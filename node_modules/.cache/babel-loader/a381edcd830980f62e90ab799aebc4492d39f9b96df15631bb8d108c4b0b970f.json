{"ast":null,"code":"var _jsxFileName = \"/home/niroj/Desktop/chatapp/src/components/UserSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getCurrentUser, setCurrentUser, getUsers, addUser } from '../utils/localStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserSelector = ({\n  onUserSelect,\n  onCurrentUserChange\n}) => {\n  _s();\n  const [currentUser, setCurrentUserState] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [newUserName, setNewUserName] = useState('');\n  const [showAddUser, setShowAddUser] = useState(false);\n  useEffect(() => {\n    const user = getCurrentUser();\n    const allUsers = getUsers();\n    setCurrentUserState(user);\n    setUsers(allUsers);\n  }, []);\n  const handleSetCurrentUser = user => {\n    setCurrentUser(user);\n    setCurrentUserState(user);\n    onCurrentUserChange(user);\n  };\n  const handleAddUser = e => {\n    e.preventDefault();\n    if (newUserName.trim()) {\n      const newUser = {\n        id: Date.now().toString(),\n        name: newUserName.trim(),\n        avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(newUserName.trim())}&background=random`\n      };\n      const updatedUsers = addUser(newUser);\n      setUsers(updatedUsers);\n      setNewUserName('');\n      setShowAddUser(false);\n    }\n  };\n  const handleSelectChatPartner = user => {\n    if (user.id !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n      onUserSelect(user);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-selector\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-user-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Select Your Identity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-users\",\n        children: \"No users available. Add a user first!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-grid\",\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `user-card ${(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) === user.id ? 'selected' : ''}`,\n          onClick: () => handleSetCurrentUser(user),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar,\n            alt: user.name,\n            className: \"user-avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) === user.id && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"current-badge\",\n            children: \"You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 49\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-partner-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Select Chat Partner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-grid\",\n        children: users.filter(user => user.id !== currentUser.id).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-card clickable\",\n          onClick: () => handleSelectChatPartner(user),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar,\n            alt: user.name,\n            className: \"user-avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-user-section\",\n      children: !showAddUser ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-user-btn\",\n        onClick: () => setShowAddUser(true),\n        children: \"+ Add New User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddUser,\n        className: \"add-user-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter user name\",\n          value: newUserName,\n          onChange: e => setNewUserName(e.target.value),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !newUserName.trim(),\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setShowAddUser(false);\n              setNewUserName('');\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(UserSelector, \"269lp8IiZ+K33Z9rhQwuAWamZOc=\");\n_c = UserSelector;\nexport default UserSelector;\nvar _c;\n$RefreshReg$(_c, \"UserSelector\");","map":{"version":3,"names":["React","useState","useEffect","getCurrentUser","setCurrentUser","getUsers","addUser","jsxDEV","_jsxDEV","UserSelector","onUserSelect","onCurrentUserChange","_s","currentUser","setCurrentUserState","users","setUsers","newUserName","setNewUserName","showAddUser","setShowAddUser","user","allUsers","handleSetCurrentUser","handleAddUser","e","preventDefault","trim","newUser","id","Date","now","toString","name","avatar","encodeURIComponent","updatedUsers","handleSelectChatPartner","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","src","alt","filter","onSubmit","type","placeholder","value","onChange","target","autoFocus","disabled","_c","$RefreshReg$"],"sources":["/home/niroj/Desktop/chatapp/src/components/UserSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getCurrentUser, setCurrentUser, getUsers, addUser } from '../utils/localStorage';\n\nconst UserSelector = ({ onUserSelect, onCurrentUserChange }) => {\n  const [currentUser, setCurrentUserState] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [newUserName, setNewUserName] = useState('');\n  const [showAddUser, setShowAddUser] = useState(false);\n\n  useEffect(() => {\n    const user = getCurrentUser();\n    const allUsers = getUsers();\n    setCurrentUserState(user);\n    setUsers(allUsers);\n  }, []);\n\n  const handleSetCurrentUser = (user) => {\n    setCurrentUser(user);\n    setCurrentUserState(user);\n    onCurrentUserChange(user);\n  };\n\n  const handleAddUser = (e) => {\n    e.preventDefault();\n    if (newUserName.trim()) {\n      const newUser = {\n        id: Date.now().toString(),\n        name: newUserName.trim(),\n        avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(newUserName.trim())}&background=random`\n      };\n      const updatedUsers = addUser(newUser);\n      setUsers(updatedUsers);\n      setNewUserName('');\n      setShowAddUser(false);\n    }\n  };\n\n  const handleSelectChatPartner = (user) => {\n    if (user.id !== currentUser?.id) {\n      onUserSelect(user);\n    }\n  };\n\n  return (\n    <div className=\"user-selector\">\n      <div className=\"current-user-section\">\n        <h3>Select Your Identity</h3>\n        {users.length === 0 ? (\n          <p className=\"no-users\">No users available. Add a user first!</p>\n        ) : (\n          <div className=\"user-grid\">\n            {users.map(user => (\n              <div \n                key={user.id} \n                className={`user-card ${currentUser?.id === user.id ? 'selected' : ''}`}\n                onClick={() => handleSetCurrentUser(user)}\n              >\n                <img src={user.avatar} alt={user.name} className=\"user-avatar\" />\n                <span className=\"user-name\">{user.name}</span>\n                {currentUser?.id === user.id && <span className=\"current-badge\">You</span>}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {currentUser && (\n        <div className=\"chat-partner-section\">\n          <h3>Select Chat Partner</h3>\n          <div className=\"user-grid\">\n            {users\n              .filter(user => user.id !== currentUser.id)\n              .map(user => (\n                <div \n                  key={user.id} \n                  className=\"user-card clickable\"\n                  onClick={() => handleSelectChatPartner(user)}\n                >\n                  <img src={user.avatar} alt={user.name} className=\"user-avatar\" />\n                  <span className=\"user-name\">{user.name}</span>\n                </div>\n              ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"add-user-section\">\n        {!showAddUser ? (\n          <button \n            className=\"add-user-btn\"\n            onClick={() => setShowAddUser(true)}\n          >\n            + Add New User\n          </button>\n        ) : (\n          <form onSubmit={handleAddUser} className=\"add-user-form\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter user name\"\n              value={newUserName}\n              onChange={(e) => setNewUserName(e.target.value)}\n              autoFocus\n            />\n            <div className=\"form-buttons\">\n              <button type=\"submit\" disabled={!newUserName.trim()}>Add</button>\n              <button \n                type=\"button\" \n                onClick={() => {\n                  setShowAddUser(false);\n                  setNewUserName('');\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserSelector; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}